"0","import pandas as pd"
"0","import statsmodels.api as sm"
"0","from sklearn.model_selection import train_test_split"
"0",""
"0","# Load the dataset"
"0","data = pd.read_excel('Income_LivingLocation_GradientBoostingRegressor.xlsx')  # Update the path to your file"
"0",""
"0","# Map the income responses to the categorical income variable"
"0","data['income_category'] = data['Monthly_income'].map({"
"0","    1: '1250_or_less',"
"0","    2: '1251_to_3333',"
"0","    3: 'greater_than_3333',"
"0","    4: '6666_or_more'"
"0","})"
"0",""
"0","# Use pd.get_dummies to convert 'income_category' into one-hot encoded variables"
"0","income_dummies = pd.get_dummies(data['income_category'], drop_first=True)"
"0",""
"0","# Assuming that 'City_center', 'Urban_area', 'Suburban_area', 'Rural_area' are the categories for living area preference"
"0","# We can create an ordinal variable where 1 is most preferred and 4 is least preferred"
"0","data['living_area_preference'] = data[['City_center', 'Urban_area', 'Suburban_area', 'Rural_area']].idxmin(axis=1).map(area_to_number)"
"0",""
"0","# Prepare the features (including the one-hot encoded income variable) and the target variable"
"0","X = pd.concat([income_dummies, data[['Education_Level', 'House_owner_or_renter', 'number of employees in household']]], axis=1)"
"0","y = data['living_area_preference']"
"0",""
"0","# Add a constant to the model (intercept)"
"0","X = sm.add_constant(X)"
"0",""
"0","# Split the data into training and testing sets"
"0","X_train, X_test, y_train, y_test = train_test_split(X, y, test_size=0.2, random_state=42)"
"0",""
"0","# Fit the ordinal regression model"
"0","model = sm.MNLogit(y_train, X_train)"
"0","result = model.fit()"
"1","Optimization terminated successfully.
         Current function value: 1.317143
         Iterations 5
"
"0","# Output the model summary"
"0","print(result.summary())"
"1","                            MNLogit Regression Results                            
==================================================================================
Dep. Variable:     living_area_preference   No. Observations:                  680
Model:                            MNLogit   Df Residuals:                      659
Method:                               MLE   Df Model:                           18
Date:                    Mon, 27 Nov 2023   Pseudo R-squ.:                 0.04969
Time:   "
"1","                         03:15:45   Log-Likelihood:                -895.66
converged:                           True   LL-Null:                       -942.49
Covariance Type:                nonrobust   LLR p-value:                 3.164e-12
====================================================================================================
        living_area_preference=2       coef    std err          z      P>|z|      [0.025      0.975]
----------------------------------------------------------------"
"1","------------------------------------
const                                1.3630      0.590      2.310      0.021       0.206       2.520
1251_to_3333                         0.2804      0.395      0.709      0.478      -0.495       1.055
6666_or_more                        -1.6061      0.414     -3.879      0.000      -2.418      -0.794
greater_than_3333                   -0.1540      0.374     -0.412      0.681      -0.887       0.579
Education_Level                      0.0911      0.056      1.620 "
"1","     0.105      -0.019       0.201
House_owner_or_renter               -0.7678      0.268     -2.864      0.004      -1.293      -0.242
number of employees in household    -0.2459      0.163     -1.513      0.130      -0.564       0.073
----------------------------------------------------------------------------------------------------
        living_area_preference=3       coef    std err          z      P>|z|      [0.025      0.975]
--------------------------------------------------------------------"
"1","--------------------------------
const                                1.4275      0.595      2.400      0.016       0.262       2.593
1251_to_3333                         0.4945      0.389      1.271      0.204      -0.268       1.257
6666_or_more                        -1.7480      0.419     -4.171      0.000      -2.569      -0.927
greater_than_3333                   -0.5055      0.380     -1.332      0.183      -1.249       0.238
Education_Level                      0.0994      0.057      1.735     "
"1"," 0.083      -0.013       0.212
House_owner_or_renter               -0.7764      0.272     -2.859      0.004      -1.309      -0.244
number of employees in household    -0.2746      0.166     -1.657      0.097      -0.599       0.050
----------------------------------------------------------------------------------------------------
        living_area_preference=4       coef    std err          z      P>|z|      [0.025      0.975]
------------------------------------------------------------------------"
"1","----------------------------
const                                0.1040      0.585      0.178      0.859      -1.043       1.251
1251_to_3333                        -0.1956      0.395     -0.495      0.621      -0.971       0.579
6666_or_more                        -1.4457      0.393     -3.675      0.000      -2.217      -0.675
greater_than_3333                   -0.2155      0.366     -0.589      0.556      -0.932       0.501
Education_Level                      0.0954      0.055      1.725      0.0"
"1","84      -0.013       0.204
House_owner_or_renter               -0.1115      0.247     -0.452      0.651      -0.595       0.372
number of employees in household     0.0431      0.161      0.268      0.789      -0.272       0.358
====================================================================================================
"
