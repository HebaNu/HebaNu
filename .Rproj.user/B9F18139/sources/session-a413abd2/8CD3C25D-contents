---
title: "Beyond the Cluster: Spotting the Outliers in Roanoke and Salem"
subtitle: "Uncovering Hidden Residential Gems with DBSCAN Anomaly Detection"
author: "Heba Nusair"
date: "2023-11-06"
categories: [research, code, analysis, plot]
image: "Bryan Vargas.jpg"
echo: fenced
---

#### **Introduction:**

Discovering anomalies can reveal much about a city's living patterns that conventional clustering might miss. In Roanoke and Salem cities, we dive into the uncommon, the outliers, the unique homeplaces that form the fabric of urban and suburban life. Using DBSCAN, an unsupervised machine learning algorithm, we identify these anomalies, offering insights into how and where people choose to live outside the expected clusters.

#### **The Power of Anomaly Detection:**

Anomaly detection stands at the frontier of data analysis, challenging the status quo by highlighting data points that don't fit in. In the context of urban landscapes, these anomalies could signify emerging neighborhoods, atypical living arrangements, or socio-economic factors influencing residential choices.

#### **DBSCAN: A Primer:**

Density-Based Spatial Clustering of Applications with Noise (DBSCAN) is a robust algorithm that groups closely packed points together while labeling points that lie alone in low-density regions as outliers. Unlike K-Means, DBSCAN doesn't require pre-specifying the number of clusters, making it ideal for real-world data that's messy and unpredictable.

#### **Methodology:**

We began with standardizing our geographical data to give each homeplace an equal footing. Next, we employed the DBSCAN algorithm, fine-tuning its parameters through a k-distance graph to ensure optimal clustering. This method distinguishes between the core points, the border points, and the noise, providing us with a granular view of residential distributions.

```{python}
from sklearn.cluster import DBSCAN
from sklearn.preprocessing import StandardScaler
from sklearn.neighbors import NearestNeighbors
import pandas as pd
import matplotlib.pyplot as plt
import numpy as np

# Load the data
df = pd.read_csv('WorkersHomeplacesNewUpdate.csv')

# Select only the geographic coordinates
df_geo = df[['X', 'Y']]

# Standardizing the features
scaler = StandardScaler()
df_geo_scaled = scaler.fit_transform(df_geo)

# Plot the k-distance graph
nbrs = NearestNeighbors(n_neighbors=4).fit(df_geo_scaled)
distances, indices = nbrs.kneighbors(df_geo_scaled)


# After identifying a new eps value from the graph, adjust eps and min_samples
eps_value = 0.05  # This is an example, adjust based on the k-distance graph
min_samples_value = 20  # This is an example, adjust based on the dataset

# Perform DBSCAN clustering with the new parameters
dbscan = DBSCAN(eps=eps_value, min_samples=min_samples_value)
clusters = dbscan.fit_predict(df_geo_scaled)

# Add cluster labels to the dataframe
df['Cluster'] = clusters

# Plot the clusters with the new parameters
plt.figure(figsize=(10, 6))
scatter = plt.scatter(df['X'], df['Y'], c=df['Cluster'], cmap='viridis', marker='o')
plt.title('Adjusted DBSCAN Clustering of Homeplaces')
plt.xlabel('Longitude')
plt.ylabel('Latitude')
plt.colorbar(scatter, label='Cluster Label')
plt.show()

```

#### 

#### Insights and Patterns:

The DBSCAN algorithm has uncovered distinct residential patterns in Roanoke and Salem, revealing expected clusters of habitation and, more notably, outliers. These isolated data points potentially represent rural residences or unique urban spaces that challenge typical clustering.

#### Visualization:

The map below demonstrates our findings with a scatter plot that overlaps the DBSCAN output map and the 55,000 points representing workers' homeplaces scattered across the Roanoke and Salem cities. It color-codes the conventional neighborhoods and marks the outliers, effectively narrating the diversity in residential preferences. DBSCAN excels at detecting these patterns based on data density alone, without the need for predefined groupings. Its ability to identify clusters of any shape and its robustness in labeling outliers as noise enables us to highlight not just common residential areas but also those unique arrangements that may signal new developments or illustrate non-conforming choices. This analysis provides valuable insights into the array of living patterns present in the region.

![A scatter plot overlaps the DBSCAN output map and the 55,000 points representing workers' homeplaces scattered across the Roanoke and Salem cities.](OverlappingAnalysis.jpg)

#### **Conclusion:**

Through this comprehensive DBSCAN analysis, we've uncovered the hidden layers of Roanoke and Salem's residential tapestry. The output has illuminated the intricate tapestry of living spaces by dissecting dense cores, transitional zones, and the outliers, we've gained an unprecedented view of the region's residential heartbeat. The clusters and anomalies captured here paint a picture of diversity and complexity in urban and suburban living. These insights are instrumental for urban planners and stakeholders, offering a data-driven foundation for decisions that embrace both the well-established neighborhoods and the burgeoning communities, as well as the unique outliers that give Roanoke and Salem their distinct character. Our exploration is a testament to the city's dynamic living patterns, revealing the essence of its urban and rural interplay.

The multifaceted nature of residency in Roanoke and Salem, highlighting the unique alongside the expected. These insights are invaluable for urban development, offering a fresh perspective that can help shape more responsive communities. In recognizing every outlier, we pave the way for a richer, more inclusive urban tapestry.

#### **Next Steps:**

As we continue to explore the data, comparing the results of K-Means and DBSCAN will be our next endeavor. Stay tuned for a comprehensive analysis where we juxtapose the general trends with the unique anomalies to paint a complete picture of urban settlement patterns.
