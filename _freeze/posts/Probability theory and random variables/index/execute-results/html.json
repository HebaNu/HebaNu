{
  "hash": "8b0b1f9a94376538d141d1127c58fedf",
  "result": {
    "markdown": "---\ntitle: \"Predicting Work Trends Across Industries with Naive Bayes: Remote or On-Site \"\nsubtitle: \"Probability theory and random variables, Naive Bayes classifier for multivariate Bernoulli models\"\nauthor: \"Heba Nusair\"\ndate: \"2023-11-25\"\ncategories: [research, code, analysis, plot]\ntype: grid\nimage: \"work-from-home-vs-work-from-office-e1678776814995.jpg\"\ncode-fold: true\ncode-viewfold: true\n---\n\n#### **Introduction:**\n\nAs we navigate through the evolving landscape of the 2023 job market, we are witnessing a significant shift in work methods. More people are embracing Work From Home (WFH) while others continue with Work On Site (WOS). This post helps to understand how these work methods vary across different jobs in the USA.\n\n#### **My Approach:**\n\nFor this analysis, I've utilized the Naive Bayes classifier for multivariate Bernoulli models. This method is excellent for sorting jobs into two main categories: WFH and WOS. It's a practical choice for my study because it efficiently handles binary data---like choosing between remote or on-site work.\n\n#### **About the Data:**\n\nThe data comes from a 2023 survey of 850 participants from various occupations. Participants were asked about their industry sector and working method. ***To respect data confidentiality, we've modified and anonymized the dataset.*** This ensures compliance with data privacy guidelines without affecting the overall analysis and insights.\n\n![Distribution of work arrangements in 2023: a survey of 850 participants across various industries; 205 Remote workers versus 645 On-site Workers.](Survey%20participants.png)\n\n#### **Industry Breakdown:**\n\nThe study categorized 20 main category for jobs according to the North American Industry Classification System (NAICS), aligning with the 6-digit Standard Occupational Classification (SOC) system from the U.S. Bureau of Labor Statistics (BLS). Here's a table of these industry sectors:\n\n+------------+-------------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------+\n| ###### \\#  | ###### The **o**ccupations categories are based on the 6-digit (SOC) system from the U.S. (BLS) | ###### Industry Sector: **O**ccupational **C**lassification                       |\n+============+=================================================================================================+===================================================================================+\n| ###### 1   | ###### **Number of jobs in NAICS sector 11**                                                    | ###### (Agriculture, Forestry, Fishing and Hunting)                               |\n+------------+-------------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------+\n| ###### 2   | ###### cns02 Number of jobs in NAICS sector 21                                                  | ###### (Mining, Quarrying, and Oil and Gas Extraction)                            |\n+------------+-------------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------+\n| ###### 3   | ###### cns03 Number of jobs in NAICS sector 22                                                  | ###### (Utilities)                                                                |\n+------------+-------------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------+\n| ###### 4   | ###### cns04 Number of jobs in NAICS sector 23                                                  | ###### (Construction)                                                             |\n+------------+-------------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------+\n| ###### 5   | ###### cns05 Number of jobs in NAICS sector 31‐33                                               | ###### (Manufacturing)                                                            |\n+------------+-------------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------+\n| ###### 6   | ###### cns06 Number of jobs in NAICS sector 42                                                  | ###### (Wholesale Trade)                                                          |\n+------------+-------------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------+\n| ###### 7   | ###### cns07 Number of jobs in NAICS sector 44‐45                                               | ###### (Retail Trade)                                                             |\n+------------+-------------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------+\n| ###### 8   | ###### cns08 Number of jobs in NAICS sector 48‐49                                               | ###### (Transportation and Warehousing)                                           |\n+------------+-------------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------+\n| ###### 9   | ###### cns09 Number of jobs in NAICS sector 51                                                  | ###### (Information)                                                              |\n+------------+-------------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------+\n| ###### 10  | ###### cns10 Number of jobs in NAICS sector 52                                                  | ###### (Finance and Insurance)                                                    |\n+------------+-------------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------+\n| ###### 11  | ###### cns11 Number of jobs in NAICS sector 53                                                  | ###### (Real Estate and Rental and Leasing)                                       |\n+------------+-------------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------+\n| ###### 12  | ###### cns12 Number of jobs in NAICS sector 54                                                  | ###### (Professional, Scientific, and Technical Services)                         |\n+------------+-------------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------+\n| ###### 13  | ###### cns13 Number of jobs in NAICS sector 55                                                  | ###### (Management of Companies and Enterprises)                                  |\n+------------+-------------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------+\n| ###### 14  | ###### cns14 Number of jobs in NAICS sector 56                                                  | ###### (Administrative and Support and Waste Management and Remediation Services) |\n+------------+-------------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------+\n| ###### 15  | ###### cns15 Number of jobs in NAICS sector 61                                                  | ###### (Educational Services)                                                     |\n+------------+-------------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------+\n| ###### 16  | ###### cns16 Number of jobs in NAICS sector 62                                                  | ###### (Health Care and Social Assistance)                                        |\n+------------+-------------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------+\n| ###### 17  | ###### cns17 Number of jobs in NAICS sector 71                                                  | ###### (Arts, Entertainment, and Recreation)                                      |\n+------------+-------------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------+\n| ###### 18  | ###### cns18 Number of jobs in NAICS sector 72                                                  | ###### (Accommodation and Food Services)                                          |\n+------------+-------------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------+\n| ###### 19  | ###### cns19 Number of jobs in NAICS sector 81                                                  | ###### (Other Services \\[except Public Administration\\])                          |\n+------------+-------------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------+\n| ###### 20  | ###### cns20 Number of jobs in NAICS sector 92                                                  | ###### (Public Administration)                                                    |\n+------------+-------------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------+\n\n**Goal:** My goal is to provide a clear and real picture of the changing work styles. I am not just analyzing numbers; I am uncovering the stories they tell about how people are adapting to new work environments, be it remotely or on-site.\n\n#### **Why I Chose the Naive Bayes Classifier for Multivariate Bernoulli Models:**\n\nIn my exploration of work methods---remote and on-site---the Naive Bayes classifier for multivariate Bernoulli models shines with its simplicity and effectiveness. It excels at evaluating probabilities, helping determine whether a job is more likely to be remote or on-site based on its industry sector. This algorithm's strength lies in its straightforward approach, providing clear baseline assessments that guide our analysis across different industry sectors. Dive Into the Code Behind the Analysis:\\\nx: The industry sector: \\[jobs categories From 1 to 20\\]\\\ny: The work method: **1 for WFH \\[Workers From Home\\]**, **2 for WOS \\[Workers On Site\\]**\\\n\n::: {.cell execution_count=1}\n``` {.python .cell-code}\nimport pandas as pd\nfrom sklearn.model_selection import train_test_split\nfrom sklearn.naive_bayes import BernoulliNB\nfrom sklearn.metrics import classification_report, accuracy_score\nfrom sklearn.preprocessing import OneHotEncoder\nimport os\n\n# Load the dataset\ndf = pd.read_csv('C:/Users/NUSAI/Desktop/Machine learning/HebaNu.github.io/HebaNu.github.io/HebaNu/posts/Probability theory and random variables/updated_POST1.csv')\n\n# Drop rows where any cell is NaN in the 'Work Method' column\ndf = df.dropna(subset=['Work Method'])\n\n# One-hot encoding\nencoder = OneHotEncoder(sparse=False)\nX = encoder.fit_transform(df[[' industry sector']])  \n# includes 20 occupation types from NAICS for 6-digit SOC- U.S. BLS\n\n# Target variable\ny = df['Work Method']\n# 1 for WFH [Work From Home], 2 for WOS [Work On Site]\n\n# Split the dataset\nX_train, X_test, y_train, y_test = train_test_split(X, y, test_size=0.2, random_state=42)\n\n# Train the Bernoulli Naive Bayes model\nmodel = BernoulliNB()\nmodel.fit(X_train, y_train)\n\n# Make predictions and evaluate the model\ny_pred = model.predict(X_test)\n\n\n\n# Output the classification report and accuracy\nprint(classification_report(y_test, y_pred, zero_division=0))\nprint(f'Accuracy: {accuracy_score(y_test, y_pred)}')\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n              precision    recall  f1-score   support\n\n           1       0.00      0.00      0.00        40\n           2       0.76      1.00      0.87       130\n\n    accuracy                           0.76       170\n   macro avg       0.38      0.50      0.43       170\nweighted avg       0.58      0.76      0.66       170\n\nAccuracy: 0.7647058823529411\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\nC:\\Users\\NUSAI\\anaconda3\\Lib\\site-packages\\sklearn\\preprocessing\\_encoders.py:972: FutureWarning:\n\n`sparse` was renamed to `sparse_output` in version 1.2 and will be removed in 1.4. `sparse_output` is ignored unless you leave `sparse` to its default value.\n\n```\n:::\n:::\n\n\n\n\n#### **Insights from Our Model: Understanding the Work Trends**\n\nThe results from our BernoulliNB model offer fascinating insights into the current work trends. The model is predicting class 2.0 for WOS \\[Work On Site\\] with high precision (76%) and recall (100%), which means for this class, it performs well both in terms of the accuracy of the positive predictions it makes (precision) and its ability to find all the positive instances.\n\nFor class 1.0 WFH \\[Work From Home\\], however, the model does not predict any instances correctly, which suggests that either there's an issue with the distribution of your classes (perhaps class 1.0 is underrepresented), or that the features do not provide enough information to distinguish class 1.0 from class 2.0.\n\n**The overall accuracy of the model is 76.47%, which means that it correctly predicts the class for 76.47% of the test set.**\n\nThe macro avg and weighted avg for precision, recall, and f1-score provide a summary of the effectiveness of the model across the classes. The low macro avg for precision and f1-score indicates that one of the classes does not perform well, which we already know is class 1.0.\n\nThe f1-score is a harmonic mean of precision and recall and is a useful metric when you have classes that are imbalanced. In my case, the f1-score for class 1.0 \\[WOS\\] is 0.00, indicating poor performance for this class.\n\nGenerally, the Naive Bayes classifier for multivariate Bernoulli models proves to be an effective and reliable tool for classification tasks. Its ability to handle binary data, like our work method categories, contributes to its robustness and applicability in various analytical scenarios.\n\n***To create plots*** that visualize the performance of your **`BernoulliNB`** model, you would typically look at the confusion matrix, precision-recall, and possibly ROC curves. Below are examples of how you could generate each of these plots using **`matplotlib`** and **`scikit-learn`**:\n\n#### **Confusion Matrix**: Visualizes the correct and incorrect predictions compared to the actual values.\n\n::: {.cell execution_count=3}\n``` {.python .cell-code}\nfrom sklearn.metrics import confusion_matrix\nimport seaborn as sns\nimport matplotlib.pyplot as plt\n\n# Assuming y_test and y_pred are already defined from BernoulliNB model\ncm = confusion_matrix(y_test, y_pred)\nsns.heatmap(cm, annot=True, fmt=\"d\")\nplt.title('Confusion Matrix for BernoulliNB Model')\nplt.xlabel('Predicted Labels')\nplt.ylabel('True Labels')\nplt.show()\n```\n\n::: {.cell-output .cell-output-display}\n![](index_files/figure-html/cell-4-output-1.png){width=556 height=449}\n:::\n:::\n\n\nThis confusion matrix from our BernoulliNB model reveals a contrast in predictive accuracy between the two classes. While it excels at identifying Work On Site (WOS) instances with a 100% success rate, it falls short regarding Work From Home (WFH) predictions, misclassifying all as WOS. This pattern indicates a strong model bias toward WOS, suggesting the need for further tuning to balance the recognition of both work types and a deeper dive into the feature set and model parameters to ensure a fair representation of the evolving work landscape.\n\n#### **ROC Curve**: Plots the true positive rate against the false positive rate.\n\n::: {.cell execution_count=4}\n``` {.python .cell-code}\nfrom sklearn.metrics import roc_curve, auc\nfrom sklearn.metrics import RocCurveDisplay\nimport matplotlib.pyplot as plt\n\n# Adjust y_test to have binary labels 0 and 1\ny_test_binary = y_test.replace({1: 0, 2: 1})\n\n# Get predicted probabilities for the positive class (e.g., class 2)\ny_pred_prob = model.predict_proba(X_test)[:, 1]  # Index 1 for the probability of class 2\n\n# Calculate the ROC curve\nfpr, tpr, thresholds = roc_curve(y_test_binary, y_pred_prob)\n\n# Calculate the AUC (Area Under Curve)\nroc_auc = auc(fpr, tpr)\n\n# Plot the ROC curve\ndisp = RocCurveDisplay(fpr=fpr, tpr=tpr, roc_auc=roc_auc)\ndisp.plot()\nplt.title('ROC Curve for BernoulliNB Model')\nplt.show()\n```\n\n::: {.cell-output .cell-output-display}\n![](index_files/figure-html/cell-5-output-1.png){width=589 height=449}\n:::\n:::\n\n\nThe ROC Curve visualizes the performance of the BernoulliNB model by plotting the true positive rate against the false positive rate at various threshold settings. The AUC, or Area Under the Curve, is 0.60, which indicates the model's ability to distinguish between the classes. While an AUC of 1 represents a perfect model, an AUC closer to 0.5 suggests the model performs no better than random chance. Therefore, with an AUC of 0.60, our model shows some ability to differentiate between WFH and WOS, but there's room for improvement.\n\n#### **Conclusion: Decoding Work Trends with Data**\n\nOur exploration of the job market through the Naive Bayes classifier has revealed some clear trends. We've seen a strong presence of on-site work, while remote work remains less predictable, hinting at a potential mismatch in our data or a sign of emerging work patterns.\n\n#### **From Data to Insights**\n\nWe're not just crunching numbers; we're seeking stories that reflect real-life work experiences. Our goal is to provide a snapshot of how people are adjusting to new work realities, and we'll keep refining our approach to get the full picture.\n\n#### **What's Next?**\n\nWe'll continue to monitor these trends and bring you fresh insights. Stay tuned for more updates as we delve deeper into the world of work and what it means for all of us in these changing times.\n\n",
    "supporting": [
      "index_files\\figure-html"
    ],
    "filters": [],
    "includes": {}
  }
}